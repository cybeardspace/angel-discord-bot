version: '3.8'

services:
  angel-bot-service:
    # Build the image using the Dockerfile in the current directory
    build: .
    image: angel-bot:latest

    # !!! REPLACE "YOUR_ACTUAL_DISCORD_TOKEN_HERE" with your bot's token !!!
    environment:
      - DISCORD_BOT_TOKEN=YOUR_ACTUAL_DISCORD_TOKEN_HERE

    # Set the container to restart unless explicitly stopped by you
    restart: unless-stopped
    
    # This maps the entire internal working directory to a Named Volume.
    # The 'angel_config.json' file created by 'angel.py' inside /usr/src/app 
    # will be persisted automatically by this directory-level volume.
    volumes:
      - angel_bot_data:/usr/src/app
      
# Define the named volume
volumes:
  angel_bot_data: